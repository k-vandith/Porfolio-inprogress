import{a as x,p as G}from"./motion-utils-DBsP9okC.js";const D=x(()=>window.ScrollTimeline!==void 0);class N{constructor(t){this.stop=()=>this.runAll("stop"),this.animations=t.filter(Boolean)}get finished(){return Promise.all(this.animations.map(t=>"finished"in t?t.finished:t))}getAll(t){return this.animations[0][t]}setAll(t,n){for(let r=0;r<this.animations.length;r++)this.animations[r][t]=n}attachTimeline(t,n){const r=this.animations.map(i=>{if(D()&&i.attachTimeline)return i.attachTimeline(t);if(typeof n=="function")return n(i)});return()=>{r.forEach((i,a)=>{i&&i(),this.animations[a].stop()})}}get time(){return this.getAll("time")}set time(t){this.setAll("time",t)}get speed(){return this.getAll("speed")}set speed(t){this.setAll("speed",t)}get startTime(){return this.getAll("startTime")}get duration(){let t=0;for(let n=0;n<this.animations.length;n++)t=Math.max(t,this.animations[n].duration);return t}runAll(t){this.animations.forEach(n=>n[t]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class Y extends N{then(t,n){return Promise.all(this.animations).then(t).catch(n)}}function _(e,t){return e?e[t]||e.default||e:void 0}const P=2e4;function j(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<P;)t+=n,r=e.next(t);return t>=P?1/0:t}function q(e){return typeof e=="function"}function F(e,t){e.timeline=t,e.onfinish=null}const k=e=>Array.isArray(e)&&typeof e[0]=="number",O={linearEasing:void 0};function S(e,t){const n=x(e);return()=>{var r;return(r=O[t])!==null&&r!==void 0?r:n()}}const b=S(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),$=(e,t,n=10)=>{let r="";const i=Math.max(Math.round(t/n),2);for(let a=0;a<i;a++)r+=e(G(0,i-1,a))+", ";return`linear(${r.substring(0,r.length-2)})`};function K(e){return!!(typeof e=="function"&&b()||!e||typeof e=="string"&&(e in g||b())||k(e)||Array.isArray(e)&&e.every(K))}const p=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,g={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:p([0,.65,.55,1]),circOut:p([.55,0,1,.45]),backIn:p([.31,.01,.66,-.59]),backOut:p([.33,1.53,.69,.99])};function z(e,t){if(e)return typeof e=="function"&&b()?$(e,t):k(e)?p(e):Array.isArray(e)?e.map(n=>z(n,t)||g.easeOut):g[e]}const u={x:!1,y:!1};function C(){return u.x||u.y}function H(e,t,n){var r;if(e instanceof EventTarget)return[e];if(typeof e=="string"){let i=document;const a=(r=void 0)!==null&&r!==void 0?r:i.querySelectorAll(e);return a?Array.from(a):[]}return Array.from(e)}function I(e,t){const n=H(e),r=new AbortController,i={passive:!0,...t,signal:r.signal};return[n,i,()=>r.abort()]}function T(e){return!(e.pointerType==="touch"||C())}function J(e,t,n={}){const[r,i,a]=I(e,n),h=o=>{if(!T(o))return;const{target:s}=o,c=t(s,o);if(typeof c!="function"||!s)return;const f=d=>{T(d)&&(c(d),s.removeEventListener("pointerleave",f))};s.addEventListener("pointerleave",f,i)};return r.forEach(o=>{o.addEventListener("pointerenter",h,i)}),a}function L(e,t){const n=`${t}PointerCapture`;if(e.target instanceof Element&&n in e.target&&e.pointerId!==void 0)try{e.target[n](e.pointerId)}catch{}}const B=(e,t)=>t?e===t?!0:B(e,t.parentElement):!1,M=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,W=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function U(e){return W.has(e.tagName)||e.tabIndex!==-1}const m=new WeakSet;function v(e){return t=>{t.key==="Enter"&&e(t)}}function E(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const V=(e,t)=>{const n=e.currentTarget;if(!n)return;const r=v(()=>{if(m.has(n))return;E(n,"down");const i=v(()=>{E(n,"up")}),a=()=>E(n,"cancel");n.addEventListener("keyup",i,t),n.addEventListener("blur",a,t)});n.addEventListener("keydown",r,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),t)};function w(e){return M(e)&&!C()}function Q(e,t,n={}){const[r,i,a]=I(e,n),h=o=>{const s=o.currentTarget;if(!s||!w(o)||m.has(s))return;m.add(s),L(o,"set");const c=t(s,o),f=(l,A)=>{s.removeEventListener("pointerup",d),s.removeEventListener("pointercancel",y),L(l,"release"),!(!w(l)||!m.has(s))&&(m.delete(s),typeof c=="function"&&c(l,{success:A}))},d=l=>{(l.isTrusted?X(l,s instanceof Element?s.getBoundingClientRect():{left:0,top:0,right:window.innerWidth,bottom:window.innerHeight}):!1)?f(l,!1):f(l,!(s instanceof Element)||B(s,l.target))},y=l=>{f(l,!1)};s.addEventListener("pointerup",d,i),s.addEventListener("pointercancel",y,i),s.addEventListener("lostpointercapture",y,i)};return r.forEach(o=>{o=n.useGlobalTarget?window:o;let s=!1;o instanceof HTMLElement&&(s=!0,!U(o)&&o.getAttribute("tabindex")===null&&(o.tabIndex=0)),o.addEventListener("pointerdown",h,i),s&&o.addEventListener("focus",c=>V(c,i),i)}),a}function X(e,t){return e.clientX<t.left||e.clientX>t.right||e.clientY<t.top||e.clientY>t.bottom}function Z(e){return e==="x"||e==="y"?u[e]?null:(u[e]=!0,()=>{u[e]=!1}):u.x||u.y?null:(u.x=u.y=!0,()=>{u.x=u.y=!1})}export{Y as G,k as a,z as b,j as c,F as d,K as e,_ as f,$ as g,M as h,q as i,L as j,Z as k,J as l,P as m,Q as p,b as s};
